<?xml version="1.0" encoding="ISO-8859-1" standalone="no"?>
<!--
   INDRA/CAR/sic3
   $Id: contenido_campos_codigo_cliente_buscar.xml,v 1.1 2009/12/03 18:45:41 pecbazalar Exp $
   contenido ZON

   DRUIDATARGET=/install/cvsiniciales
-->

<!DOCTYPE PAGINA SYSTEM "dtd/druida_3_0.dtd">

<PAGINA nombre="contenido_campos_codigo_cliente_buscar" cod="0638" titulo="Buscar campos código de cliente"  estilos="estilosB3.css" colorf="#F0F0F0" 
	msgle="Buscar campos código de cliente" onload="onLoadPag();" xml:lang="es">

<JS src="sicc_util.js"/>	 
<JS src="PaginacionSicc.js"/>	 
<JS src="DruidaTransactionMare.js"/>

<JAVASCRIPT>
  <![CDATA[ 

	function ocultaCapas(){
	    document.all["Cplistado1"].style.visibility='hidden';
	    document.all["CpLin1listado1"].style.visibility='hidden';
	    document.all["CpLin2listado1"].style.visibility='hidden';
	    document.all["CpLin3listado1"].style.visibility='hidden';
	    document.all["CpLin4listado1"].style.visibility='hidden';
	    document.all["primera1Div"].style.visibility='hidden';
	    document.all["ret1Div"].style.visibility='hidden';
	    document.all["ava1Div"].style.visibility='hidden';
	    document.all["separaDiv"].style.visibility='hidden';
	    document.all["AceptarDiv"].style.visibility='hidden';
	}
	
	function muestraCapas(){
		document.all["Cplistado1"].style.visibility='';
		document.all["CpLin1listado1"].style.visibility='';
		document.all["CpLin2listado1"].style.visibility='';
		document.all["CpLin3listado1"].style.visibility='';
		document.all["CpLin4listado1"].style.visibility='';
		document.all["primera1Div"].style.visibility='';
		document.all["ret1Div"].style.visibility='';
		document.all["ava1Div"].style.visibility='';
		document.all["separaDiv"].style.visibility='';
		document.all["AceptarDiv"].style.visibility='';
	}
	
	function muestraLista( ultima, rowset){
		var tamano = rowset.length;
		if (tamano > 0) {
			muestraCapas();
			eval (ON_RSZ);
			focaliza('frmBusquedaRapidaCliente.txtCodCliente','');
			return true;
		} else {
			ocultaCapas();	    
         focaliza('frmBusquedaRapidaCliente.txtCodCliente','');
		  	return false;
		}
	}
	
  function fVolver(){
  	this.close();
  }
  
  function onLoadPag()   {
    configurarMenuSecundario("frmBusquedaRapidaCliente");
    btnProxy(2, '1');
    btnProxy(3, '0');
    
    DrdEnsanchaConMargenDcho('listado1',12);
    
	 ocultaCapas();

    eval (ON_RSZ);  
	focaliza("frmBusquedaRapidaCliente.txtCodCliente");
   }

   function checkTableShTab(){
		  if(document.all["Cplistado1"].style.visibility == 'hidden') 
			  focalizaBotonHTML('botonContenido','btnBuscar');
			else focalizaBotonHTML('botonContenido','Aceptar');
	}

	function checkTableTab(){
			if(document.all["Cplistado1"].style.visibility == 'hidden') 
			  focaliza('frmBusquedaRapidaCliente.txtCodCliente');
			else focalizaBotonHTML('botonContenido','Aceptar');

		}

   function fLimpiar(){
	set('frmBusquedaRapidaCliente.txtCodCliente','');
	set('frmBusquedaRapidaCliente.txtDNI','');
	set('frmBusquedaRapidaCliente.txtNombre1','');
	set('frmBusquedaRapidaCliente.txtNombre2','');
	set('frmBusquedaRapidaCliente.txtApellido2','');
	set('frmBusquedaRapidaCliente.txtCriterioBusqueda1','');
	set('frmBusquedaRapidaCliente.txtCriterioBusqueda2','');

	document.selection.empty();
	focaliza('frmBusquedaRapidaCliente.txtCodCliente',''); 
	}

	function Buscar2(){
		set('frmBusquedaRapidaCliente.conectorAction','LPBusquedaRapidaCliente');
		set('frmBusquedaRapidaCliente.accion','buscar');
		enviaSICC('frmBusquedaRapidaCliente');
	}
	function Buscar(){	
		var arr = new Array();
		
		arr[arr.length]=new Array("codigoCliente",get('frmBusquedaRapidaCliente.txtCodCliente'));
		arr[arr.length]=new Array("documentoIdentidad",get('frmBusquedaRapidaCliente.txtDNI'));
		arr[arr.length]=new Array("nombre1",get('frmBusquedaRapidaCliente.txtNombre1'));
		arr[arr.length]=new Array("nombre2",get('frmBusquedaRapidaCliente.txtNombre2'));
		arr[arr.length]=new Array("apellido1",get('frmBusquedaRapidaCliente.txtApellido1'));
		arr[arr.length]=new Array("apellido2",get('frmBusquedaRapidaCliente.txtApellido2'));
		arr[arr.length]=new Array("criterioBusqueda1",get('frmBusquedaRapidaCliente.txtCriterioBusqueda1'));
		arr[arr.length]=new Array("criterioBusqueda2",get('frmBusquedaRapidaCliente.txtCriterioBusqueda2'));
		arr[arr.length]=new Array("oidPais",get('frmBusquedaRapidaCliente.hidOidPais'));
		arr[arr.length]=new Array("oidIdioma",get('frmBusquedaRapidaCliente.hidOidIdioma'));
		
		configurarPaginado(	mipgndo,
									"MAEBusquedaRapidaCliente",
									"ConectorBusquedaRapidaCliente",
									"es.indra.sicc.dtos.mae.DTOBusquedaRapidaCliente",
									arr
								);
	}

	function aceptar(){
      if (listado1.numSelecc()== 1)
 	  {		
		var arrAux = new Array();
		arrAux = listado1.codSeleccionados();
		var posicion = obtenerPosicionListaEditable(listado1.codSeleccionados(),listado1);		
		var arr = new Array();
		arr[0] = listado1.datos[posicion][0]; //oid
		arr[1] = listado1.datos[posicion][1]; //codigo
		arr[2] = listado1.datos[posicion][2]; //nombre1
		arr[3] = listado1.datos[posicion][3]; //nombre2
		arr[4] = listado1.datos[posicion][4]; //apellido1
		arr[5] = listado1.datos[posicion][5]; //apellido2

		returnValue = arr;
		close();
	  }
	  else {
			//GestionarMensaje('4');  INC 14747
			GestionarMensaje('1487');
	  }
}
   

  ]]> 
</JAVASCRIPT>
 

<FORMULARIO nombre="frmBusquedaRapidaCliente" oculto="S" >
   <VAR nombre="conectorAction" valor=""/>
	<VAR nombre="accion" valor=""/>
	<VAR nombre="errCodigo" valor=""/>
	<VAR nombre="errDescripcion" valor=""/>
	<VAR nombre="exito" valor=""/>
	<VAR nombre="hidApellido1" valor=""/>
	<VAR nombre="hidApellido2" valor=""/>
	<VAR nombre="hidNombre1" valor=""/>
	<VAR nombre="hidNombre2" valor=""/>
	<VAR nombre="hidCodCliente" valor=""/>
	<VAR nombre="hidDocu" valor=""/>
	<VAR nombre="hidCriterioB1" valor=""/>
	<VAR nombre="hidCriterioB2" valor=""/>
	<VAR nombre="hidOidPais" valor=""/>
	<VAR nombre="hidOidIdioma" valor=""/>	


  <table width="100%" border="0" cellspacing="0" cellpadding="0">
    <tr>
      <td width="12" align="center"><IMG src="b.gif" width="12" height="12"/></td>
      <td width="750"><IMG src="b.gif"/></td>
      <td width="12"><IMG src="b.gif" width="12" height="1"/></td>
    </tr>
    <tr > 
      <td><IMG src="b.gif"/></td>
      <td >
      
<!--primer formulario-->
	<fieldset><legend class="legend"><LABELC nombre="lblCriteriosBusqueda"  alto="13" filas="1" valor="" id="legend" cod="0075"/></legend>
	
          <!---primera fila-->
         <table width="100%" border="0" align="center" cellspacing="0" cellpadding="0">
          <tr><td>
             <table width="647" border="0" align="left" cellspacing="0" cellpadding="0">
	                  <tr> 
		            <td colspan="8"><IMG src="b.gif" width="8" height="8"/></td>
		          </tr>
		          <tr>
	                    <td><IMG src="b.gif" width="8" height="8"/></td>
	                    <td><LABELC nombre="lblCodCliente"  alto="13" filas="1" valor="" id="datosTitle" cod="263"/></td>
	                    <td><IMG src="b.gif" width="25" height="8"/></td>
	                    <td><LABELC nombre="lblDNI"  alto="13" filas="1" valor="" id="datosTitle" cod="1364"/></td>
	                    <td width="100%"><IMG src="b.gif" width="8" height="8"/></td>
	                  </tr>
	                  <tr>
	                    <td><IMG src="b.gif" width="8" height="8"/></td>
	                    <td nowrap="nowrap"><CTEXTO nombre="txtCodCliente" id="datosCampos" max="15" tipo="" onchange="" req="N" size="15" valor="" validacion="" onshtab="checkTableShTab();" /></td>
	                    <td><IMG src="b.gif" width="25" height="8"/></td>
	                    <td nowrap="nowrap"><CTEXTO nombre="txtDNI" id="datosCampos" max="30" tipo="" onchange="" req="N" size="40" valor="" validacion="" /></td>
	                    <td width="100%"><IMG src="b.gif" width="8" height="8"/></td>
	                  </tr>
	                  <tr> 
	                    <td colspan="9"><IMG src="b.gif" width="8" height="8"/></td>
	                  </tr>
	            </table>
	     </td></tr>
       <!---fin primera fila-->
	       <tr><td>
	             <table width="647" border="0" align="left" cellspacing="0" cellpadding="0">
		                  
			          <tr>
		                    <td><IMG src="b.gif" width="8" height="8"/></td>
		                    <td><LABELC nombre="lblNombre1"  alto="13" filas="1" valor="" id="datosTitle" cod="93"/></td>
		                    <td><IMG src="b.gif" width="25" height="8"/></td>
		                    <td><LABELC nombre="lblNombre2"  alto="13" filas="1" valor="" id="datosTitle" cod="94"/></td>
		                    <td><IMG src="b.gif" width="25" height="8"/></td>
		                    <td><LABELC nombre="lblApellido1"  alto="13" filas="1" valor="" id="datosTitle" cod="16"/></td>
		                    <td><IMG src="b.gif" width="25" height="8"/></td>
		                    <td><LABELC nombre="lblApellido2"  alto="13" filas="1" valor="" id="datosTitle" cod="17"/></td>
		                    <td width="100%"><IMG src="b.gif" width="8" height="8"/></td>
		                  </tr>
		                  <tr>
		                    <td><IMG src="b.gif" width="8" height="8"/></td>
		                    <td nowrap="nowrap"><CTEXTO nombre="txtNombre1" id="datosCampos" max="25" tipo="" onchange="" req="N" size="25" valor="" validacion="" /></td>
		                    <td><IMG src="b.gif" width="25" height="8"/></td>
		                    <td nowrap="nowrap"><CTEXTO nombre="txtNombre2" id="datosCampos" max="25" tipo="" onchange="" req="N" size="25" valor="" validacion="" /></td>
		                    <td><IMG src="b.gif" width="25" height="8"/></td>
		                    <td nowrap="nowrap"><CTEXTO nombre="txtApellido1" id="datosCampos" max="25" tipo="" onchange="" req="N" size="25" valor="" validacion="" /></td>
		                    <td><IMG src="b.gif" width="25" height="8"/></td>
		                    <td nowrap="nowrap"><CTEXTO nombre="txtApellido2" id="datosCampos" max="25" tipo="" onchange="" req="N" size="25" valor="" validacion="" /></td>
		                    <td width="100%"><IMG src="b.gif" width="8" height="8"/></td>
		                  </tr>
		                  <tr> 
		                    <td colspan="9"><IMG src="b.gif" width="8" height="8"/></td>
		                  </tr>
		            </table>
		     </td></tr>
		     <tr><td>
	             <table width="647" border="0" align="left" cellspacing="0" cellpadding="0">
		                  
			          <tr>
		                    <td><IMG src="b.gif" width="8" height="8"/></td>
		                    <td><LABELC nombre="lblCriterioBusqueda1"  alto="13" filas="1" valor="" id="datosTitle" cod="2208"/></td>
		                    <td><IMG src="b.gif" width="25" height="8"/></td>
		                    <td><LABELC nombre="lblCriterioBusqueda2"  alto="13" filas="1" valor="" id="datosTitle" cod="2209"/></td>
		                    <td width="100%"><IMG src="b.gif" width="8" height="8"/></td>
		                  </tr>
		                  <tr>
		                    <td><IMG src="b.gif" width="8" height="8"/></td>
		                    <td nowrap="nowrap"><CTEXTO nombre="txtCriterioBusqueda1" id="datosCampos" max="50" tipo="" onchange="" req="N" size="50" valor="" validacion="" /></td>
		                    <td><IMG src="b.gif" width="25" height="8"/></td>
		                    <td nowrap="nowrap"><CTEXTO nombre="txtCriterioBusqueda2" id="datosCampos" max="50" tipo="" onchange="" req="N" size="50" valor="" validacion="" /></td>
		                    <td width="100%"><IMG src="b.gif" width="8" height="8"/></td>
		                  </tr>
		                  <tr> 
		                    <td colspan="9"><IMG src="b.gif" width="8" height="8"/></td>
		                  </tr>
		            </table>
		     </td></tr>
            </table>
        </fieldset>
          
<!--fin primer formulario-->
      </td>
      <td><IMG src="b.gif" /></td>
    </tr> 
    <tr> 
        <td><IMG src="b.gif"/></td>
        <td >
	  <fieldset>
	    <table width="100%" border="0" align="center" cellspacing="0" cellpadding="0" >        
	      <tr>
	        <td class="botonera">
		  <BOTON nombre="btnBuscar" ID="botonContenido" tipo="html" accion="Buscar();" estado="false" cod="1" ontab="checkTableTab();" />
	        </td>
	      </tr>    
	    </table>        
	  </fieldset>
        </td>
        <td><IMG src="b.gif" width="8" height="12"/></td>
      </tr>       
    <tr>
       	<td width="12" align="center"><IMG src="b.gif" width="12" height="12"/></td>
     	<td width="756" ><IMG src="b.gif"/></td>
      	<td width="12" ><IMG src="b.gif" width="12" height="1"/></td>
    </tr>
  </table>


  <LISTAEDITABLE nombre="listado1" ancho="651" alto="317" x="12" y="204" colorFondo="#CECFCE" msgDebugJS="S">
      <IMGBOTONES precarga="S" conROver="S">
        <BTNSELECCION normal="btnLista2N.gif" rollOver="btnLista2S.gif" seleccionado="btnLista2M.gif" desactivado="btnLista2D.gif" /> 
        <BTNMINIMIZAR minimizar="bot_pliega_columna_on.gif" minimROver="bot_pliega_columna_over.gif" maximizar="bot_despliega_columna_on.gif" maximROver="bot_despliega_columna_over.gif" /> 
        <BTNORDENAR ordenar="ascendente_on.gif" ordenarInv="descendente_on.gif"/>   
      </IMGBOTONES>
     
      <LINEAS>
        <GROSOR borde="1" horizDatos="1" horizCabecera="1" vertical="1" horizTitulo="1" horizBase="1"/> 
        <COLOR borde="#999999" vertCabecera="#E0E0E0" vertDatos="#FFFFFF" horizDatos="#FFFFFF" horizCabecera="#999999" horizTitulo="#999999"  horizBase="#999999" />  
      </LINEAS>
      <TITULO colFondo="#CECFCE" alto="22" imgFondo="" cod="00135" ID="datosTitle" />
      <BASE colFondo="#CECFCE" alto="22" imgFondo=""/>
      <COLUMNAS ajustarMinimo="S" permiteOrdenar="S" blancosAInsertar="1" sinSaltoLinea="S" AnchoMinimizadas="20" botonOrdenar="S">
        <COL ancho="50" minimizable="S" minimizada="N"/>
        <COL ancho="50" minimizable="S" minimizada="N" /> 
        <COL ancho="50" minimizable="S" minimizada="N" /> 
        <COL ancho="50" minimizable="S" minimizada="N" /> 
        <COL ancho="50" minimizable="S" minimizada="N" /> 
      </COLUMNAS>
     
      <CABECERA alto="20" IDScroll="EstCab" imgFondo="" colFondo="#CCCCCC" ajustarAMitadInf="S">
        <COL colFondo="" ID="EstCab" align="center" cod="263">Cód. cliente</COL> 
	<COL colFondo="" ID="EstCab" cod="93">Nombre 1</COL> 
	<COL colFondo="" ID="EstCab" cod="94">Nombre 2</COL> 
	<COL colFondo="" ID="EstCab" cod="16">Apellido 1</COL> 
	<COL colFondo="" ID="EstCab" cod="17">Apellido 2</COL> 
      </CABECERA>
      <DATOS alto="22" accion="" tipoEnvio="edicion" formaEnvio="xml" maxSel="-1" msgErrMaxSel="" 
             coloresScrollNativo="#D4D0C8,black,white,#D4D0C8,#D4D0C8,#ECE9E4,black" colorROver="#D0D9E8" 
             onLoad="" colorSelecc="#D0D9E8">
       <COL tipo="texto" ID="EstDat"/> 
       <COL tipo="texto" ID="EstDat2"/>
       <COL tipo="texto" ID="EstDat"/> 
       <COL tipo="texto" ID="EstDat2"/>
       <COL tipo="texto" ID="EstDat"/> 
      </DATOS>
      <ROWSET>
	
      </ROWSET>
      <PAGINADO nombre="mipgndo" ancho="651" sep="$" x="12" class="botonera" y="499" control="|" conector="" rowset="" cargainicial="N"
      onload="procesarPaginado(mipgndo,msgError, ultima, rowset, 'muestraLista(ultima, rowset)')" >
        <BOTON nombre="ret1" x="37" y="503" ID="botonContenido" img="retroceder_on" tipo="0" estado="false" alt="" codigo="" accion="mipgndo.retroceder();" /> 
        <BOTON nombre="ava1" x="52" y="503" ID="botonContenido" img="avanzar_on" tipo="0" estado="false" alt="" codigo="" accion="mipgndo.avanzar();"/>
                
    </PAGINADO>
  </LISTAEDITABLE>
  <BOTON nombre="primera1" x="20" y="503" ID="botonContenido" img="primera_on" tipo="-2" estado="false" alt="" codigo="" accion="mipgndo.retrocederPrimeraPagina();"/>  
  <BOTON nombre="separa" x="59" y="498" ID="botonContenido" img="separa_base" tipo="0" estado="false" alt="" codigo="" accion="" />      
  <BOTON nombre="Aceptar" x="80" y="499" ID="botonContenido" tipo="html" estado="false" accion="aceptar();" cod="12" ontab="focaliza('frmBusquedaRapidaCliente.txtCodCliente');" onshtab="focalizaBotonHTML('botonContenido','btnBuscar');" /> 
 <CAPA nombre="capaEspacio" alto="12" ancho="100%" colorf="" borde="0" imagenf="" 
      repeat="" padding="" visibilidad="visible" contravsb="" x="0" y="522" zindex="">
  </CAPA>                                            

</FORMULARIO>


</PAGINA>

